@using Lumos.Data.Enums;
@{
    Layout = null;
}

@model Lumos.Application.Dtos.Management.Tenants.TenantsDto

<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <p style="font-size: 1.1em!important;margin: 0; font-weight: bold;">Editar Inquilino</p>
</div>

<div class="modal-body">
    <form id="editTenant" style="margin: auto!important">
        <input type="hidden" name="Id" id="Id" value="@Model.Id" />

        <div class="row">
            <div class="form-group col-md-6">
                <label for="Name" class="input-label">Nome<span class="input-label-required"></span></label>
                <input type="text" class="form-control" name="Name" id="Name" placeholder="" value="@Model.Name">
            </div>

            <div class="form-group col-md-6">
                <label for="Email" class="input-label">E-mail<span class="input-label-required"></span></label>
                <input type="email" class="form-control" name="Email" id="Email" placeholder="" value="@Model.Email">
            </div>

        </div>
        <div class="row">
            <div class="form-group col-md-8">
                <label for="City" class="input-label">Cidade<span class="input-label-required"></span></label>
                <input type="text" class="form-control" name="City" id="City" placeholder="" value="@Model.City">
            </div>
            @{
                var estados = new List<SelectListItem>
            {
            new SelectListItem { Value = "AC", Text = "Acre" },
            new SelectListItem { Value = "AL", Text = "Alagoas" },
            new SelectListItem { Value = "AP", Text = "Amapá" },
            new SelectListItem { Value = "AM", Text = "Amazonas" },
            new SelectListItem { Value = "BA", Text = "Bahia" },
            new SelectListItem { Value = "CE", Text = "Ceará" },
            new SelectListItem { Value = "DF", Text = "Distrito Federal" },
            new SelectListItem { Value = "ES", Text = "Espírito Santo" },
            new SelectListItem { Value = "GO", Text = "Goiás" },
            new SelectListItem { Value = "MA", Text = "Maranhão" },
            new SelectListItem { Value = "MT", Text = "Mato Grosso" },
            new SelectListItem { Value = "MS", Text = "Mato Grosso do Sul" },
            new SelectListItem { Value = "MG", Text = "Minas Gerais" },
            new SelectListItem { Value = "PA", Text = "Pará" },
            new SelectListItem { Value = "PB", Text = "Paraíba" },
            new SelectListItem { Value = "PR", Text = "Paraná" },
            new SelectListItem { Value = "PE", Text = "Pernambuco" },
            new SelectListItem { Value = "PI", Text = "Piauí" },
            new SelectListItem { Value = "RJ", Text = "Rio de Janeiro" },
            new SelectListItem { Value = "RN", Text = "Rio Grande do Norte" },
            new SelectListItem { Value = "RS", Text = "Rio Grande do Sul" },
            new SelectListItem { Value = "RO", Text = "Rondônia" },
            new SelectListItem { Value = "RR", Text = "Roraima" },
            new SelectListItem { Value = "SC", Text = "Santa Catarina" },
            new SelectListItem { Value = "SP", Text = "São Paulo" },
            new SelectListItem { Value = "SE", Text = "Sergipe" },
            new SelectListItem { Value = "TO", Text = "Tocantins" }
            };

                var selectedState = Model.State;
            }

            <div class="form-group col-md-4">
                <label for="State" class="input-label">Estado<span class="input-label-required"></span></label>
                <select class="form-control" name="State" id="UfModal">
                    <option value="">Selecione a UF</option>
                    @foreach (var estado in estados)
                    {
                        <option value="@estado.Value">@estado.Text</option>
                    }
                </select>
            </div>

            <script>
                var selectedState = "@selectedState";
                document.getElementById("UfModal").value = selectedState;
            </script>

        </div>

        <div class="row">
            <div class="col-md-12" style="display: flex; justify-content: flex-end; gap: 20px;">
                <button class="btn btn-success save float-right" type="submit" id="submitButton">Atualizar Cadastro</button>
            </div>
        </div>
    </form>
</div>

<script>
    $("#editTenant").on('submit', function (e) {
        e.preventDefault();

        var id = $('#Id').val();
        var formData = new FormData($('#editTenant')[0]);
        var url = `/Tenants/Update/${id}`;

        AjaxUpdateDefault("#submitButton", url, formData, "#TenantEditModal");
    })
</script>